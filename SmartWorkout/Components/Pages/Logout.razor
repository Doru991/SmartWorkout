@page "/logout"
@inject NavigationManager NavigationManager
@using Microsoft.AspNetCore.Authentication
<PageTitle>Logout</PageTitle>
<p3>You have logged out of SmartWorkout.</p3>
<p4><a href="/">Return home</a></p4>
@code {
    [CascadingParameter]
    public HttpContext HttpContext { get; set; }
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        if(HttpContext.User.Identity.IsAuthenticated)
        {
            await HttpContext.SignOutAsync();
            NavigationManager.NavigateTo("/logout", true);
        }
    }
}
